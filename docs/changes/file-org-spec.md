# Change Document: file-org-spec

**Status**: approved
**Branch**: refactor/split-l2-by-component
**Created**: 2026-02-06
**Author**: GitHub Copilot + User

---

## Summary

Formalize the file organization methodology (currently only in `methodology.md`) into the specification hierarchy: User Story → Requirement → Design Spec. The methodology describes *how* specification files are organized across levels (problem domain vs. solution domain), including the 1:1 mapping rule for L0→L1 and the domain-shift at L2. This is currently "free-floating" documentation not covered by the formal spec chain.

---

## Level 0: User Stories

**Status**: ✅ completed

### New User Stories
- **US_CORE_FILE_ORG**: Consistent File Organization Across Specification Levels (in `us_core.rst`, links: `US_CORE_SPEC_AS_CODE`)

---

## Level 1: Requirements

**Status**: ✅ completed

### New Requirements
- **REQ_CORE_DOMAIN_ORG**: File Organization by Domain Type (in `req_core.rst`, links: `US_CORE_FILE_ORG`)
- **REQ_CORE_L1_MIRROR**: Level 1 Mirrors Level 0 File Structure (in `req_core.rst`, links: `US_CORE_FILE_ORG`, `REQ_CORE_DOMAIN_ORG`)

### Dropped
- **REQ_CORE_FILE_SCALING** — scaling thresholds are theme-specific guidelines, not formal requirements

---

## Level 2: Design

**Status**: ✅ completed

### Modified Elements
- **SPEC_DOC_STRUCTURE**: Added links to `REQ_CORE_DOMAIN_ORG` and `REQ_CORE_L1_MIRROR`, expanded with "File Organization by Domain Type" section (in `spec_doc_structure.rst`)

---

## Final Consistency Check

**Status**: ✅ passed

### Traceability Verification

| Element | Links to | ✓ |
|---------|----------|---|
| US_CORE_FILE_ORG | US_CORE_SPEC_AS_CODE | ✅ |
| REQ_CORE_DOMAIN_ORG | US_CORE_FILE_ORG | ✅ |
| REQ_CORE_L1_MIRROR | US_CORE_FILE_ORG, REQ_CORE_DOMAIN_ORG | ✅ |
| SPEC_DOC_STRUCTURE | REQ_CORE_SPHINX_NEEDS, REQ_CORE_TRACEABILITY, REQ_CORE_DOMAIN_ORG, REQ_CORE_L1_MIRROR | ✅ |

### Validation

- [x] `sphinx-build` passes (0 errors)
- [x] All new IDs unique
- [x] No orphaned elements
- [x] Cross-level consistency verified
- [x] All statuses `implemented` (retroactive formalization)

### Sign-off

- [x] All levels completed
- [x] All conflicts resolved
- [x] Traceability verified

---

*Generated by syspilot Change Agent*
